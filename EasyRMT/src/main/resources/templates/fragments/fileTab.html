<!DOCTYPE html>
<!--
  ~ Copyright (c) $today.year.Sergio López Jiménez and Universidad de Valladolid
  ~                             All rights reserved
  -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
<div class="tab-pane fade" th:fragment="fileTabFragment(path,fileList)" id="fileTab">
    <div class="row">
    <h3 class="page-header" th:text="#{fileTab.page_header}"></h3>
    </div>
    <div class="row" th:unless="${#lists.isEmpty(fileList)}">
        <a href="" data-toggle="modal" data-target="#uploadFileModal" th:value="path">
                                <span class="fa fa-times-circle fa-2x pull-right" style="color: #5cb85c"
                                      data-toggle="tooltip" data-placement="top"
                                      th:title="#{fileTab.uploadFileButton}">
                                </span>
        </a>
    </div>
    <div class="row" th:unless="${#lists.isEmpty(fileList)}" th:each="file : ${fileList}">
        <div class="col-lg-2">
            <div class="panel panel-default">
                <div class="panel panel-body">
                    <h5 style="font-weight: bold" th:text="${file.name}"></h5>
                    <label th:text="#{fileTab.size}+':'"></label>
                    <p th:text="${file.size}"></p>
                    <br/>
                    <label th:text="#{fileTab.description}+':'"></label>
                    <p th:text="${file.description}"></p>
                    <br/>
                    <label th:text="#{fileTab.type}+':'"></label>
                    <p th:text="${file.type}"></p>
                </div>
                <div class="panel panel-footer">
                    <a href="" data-toggle="modal" data-target="#deleteFileModal"
                       th:onclick="'modalValue('+${file.getIdFile}+')'">
                                <span class="fa fa-times-circle fa-2x pull-right" style="color: #b52b27"
                                      data-toggle="tooltip" data-placement="top"
                                      th:title="#{fileTab.deleteFileButton}">
                                </span>
                    </a>
                    <a th:href="${path}+'/file/'+${file.getIdFile}" target="_blank">
                                <span class="fa fa-download  fa-2x pull-right"
                                      data-toggle="tooltip" data-placement="top"
                                      th:title="#{fileTab.downloadFileButton}">
                                </span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div class="row" th:if="${#lists.isEmpty(fileList)}">
        <form class="box dropzone dz-clickable" method="post" th:action="${path}+'/uploadFile'" enctype="multipart/form-data">
            <div class="box__input">
                <input class="dz-hidden-input" type="file" name="file" id="file"
                       multiple="multiple" style="visibility: hidden; position: absolute; top: 0px; left: 0px; height: 0px; width: 0px;"/>
                <label for="file">
                    <strong th:text="#{fileTab.chooseFile}"></strong>
                    <span class="box__dragndrop" th:text="#{fileTab.dragFile}"></span>
                </label>
                <button class="box__button" type="submit" th:text="#{fileTab.submitButton}"></button>
            </div>
<!--            <div class="box__uploading" th:text="#{fileTab.box_uploading}"></div>
            <div class="box__success" th:text="#{fileTab.done}"></div>
            <div class="box__error" th:text="#{fileTab.error}"><span></span></div>-->
        </form>
    </div>
    <!-- upload Modal -->
    <div class="modal fade" id="uploadFileModal" tabindex="-1" role="dialog"
         aria-labelledby="uploadFileModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
                    <h4 class="modal-title" id="uploadFileModalLabel" th:text="#{fileTab.Modal.label}"></h4>
                </div>
                <div class="modal-body">
                    <form class="box dropzone dz-clickable" method="post" th:action="${path}+'/upload'" enctype="multipart/form-data">
                        <div class="box__input">
                            <input class="dz-hidden-input" type="file" name="file" id="file"
                                   multiple="multiple" style="visibility: hidden; position: absolute; top: 0px; left: 0px; height: 0px; width: 0px;"/>
                            <label for="file">
                                <strong th:text="#{fileTab.chooseFile}"></strong>
                                <span class="box__dragndrop" th:text="#{fileTab.dragFile}"></span>
                            </label>
                            <button class="box__button" type="submit" th:text="#{fileTab.submitButton}"></button>
                        </div>
                        <!--            <div class="box__uploading" th:text="#{fileTab.box_uploading}"></div>
                                    <div class="box__success" th:text="#{fileTab.done}"></div>
                                    <div class="box__error" th:text="#{fileTab.error}"><span></span></div>-->
                    </form>
                </div>
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /. upload modal -->
</div>
</body>
</html>